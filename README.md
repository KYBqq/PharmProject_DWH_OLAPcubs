##Описание проекта:

Проект направлен на создание хранилища данных (DWH) и аналитической модели для аптечной сети с целью автоматизации обработки и анализа данных. 
Хранилище данных содержит информацию о товарах, производителях, аптеках, поставщиках и других данных, а также различных операциях (чеках, приходах, возвратах, перемещениях и остатках). 
Проект включает загрузку данных из XML-файлов в DWH, создание аналитических витрин и построение OLAP-куба с расчетными показателями для более детализированного анализа.

##Цель проекта:

Цель проекта — обеспечить централизованное хранение и обработку данных для аптечной сети с возможностью гибкой аналитики и формирования отчетности. 
Основной задачей является создание структуры базы данных, загрузка данных из внешних источников, создание OLAP-кубов и расчетных показателей для аналитики, 
а также поддержка масштабируемости и повторного использования элементов проекта.

#Задачи: 

1. Необходимо реализовать загрузку следующих справочников и фактов в DWH. Загрузка должна быть оформлена в виде хранимых процедур
с минимальным логированием и возможностью загрузить другие файлы с данными этой же структуры.

2. На основании DWH собрать OLAP-куб с максимально возможной детализацией. Приветствуется использование расчетных показателей на уровне куба (кубов), например, средний чек. Из обязательных показателей - 
расчетный остаток на основании всех описанных видов движений.

Справочники:
- Дата
- Номенклатура (goods.xml)
- Номенклатурные группы (goodgroups.xml)
- Производители (manufactures.xml)
- Аптеки (stores.xml)
- Поставщики (suppliers.xml)

Факты:
- Чеки (receipt.xml)
- Приход (income.xml)
- Перемещения (movegood.xml)
- Возврат (returns.xml)
- Текущий остаток (stock.xml)

##Реализованные решения:

Пет-проект | Хранилище данных и аналитическая модель для аптечной сети
SQL Server 2022, T‑SQL, ETL, DWH, OLAP

Структура хранилища и загрузка данных:
- Спроектировал и создал структуру базы данных, загрузив данные из XML-файлов (справочники: Дата, Номенклатура, Номенклатурные группы, Производители, Аптеки, Поставщики; факты: Чеки, Приходы, Перемещения, Возвраты, Остатки).
- Реализовал хранимые процедуры с минимальным логированием, обеспечив возможность повторной загрузки файлов аналогичной структуры.
- Разработал SQL VIEW’ы для консолидированного доступа к измерениям, Разработал SQL VIEW’ы к фактам по схеме «звезда».
- Документировал структуру DWH. 

Разработка ETL-процедур:
- Создал параметризованные ETL-процедуры для обработки XML-файлов и трансформации данных, включая приведение дат к единому формату.
- Реализовал обработку ошибок и базовое логирование процесса загрузки.
- Разработаны команды активации загрузки одинаковых по структуре файлов.

Создание OLAP-кубов:
- Построил OLAP-кубы с максимально возможной детализацией по товарам, аптекам, датам и производителям, поставщикам и др.

Структура витрин и аналитика:
- Построил витрины по схеме «звезда» для ключевых направлений аналитики.
- Подготовил агрегированные показатели (продажи, поставки, возвраты, перемещения, остатки) для дальнейших расчётов и отчётности.
- Реализовал расчетные показатели для анализа продаж: маржинальность, рентабельность, средний чек и также основные расчетные показатели.

#Основные результаты:
- Построено DWH, включающее загрузку справочников и фактов из XML-файлов в соответствии с заданной структурой.
- Реализованы параметризованные хранимые процедуры для загрузки данных с минимальным логированием и повторным использованием для других файлов аналогичной структуры.
- Разработаны команды активации загрузки для автоматизированной обработки файлов.
- Обеспечена консолидация и приведение данных к единому формату (включая даты).
- Настроены связи между измерениями и фактами по схеме «звезда» с использованием SQL VIEW’ов.
- Реализован расчет на основании всех видов фактов (чеков, поступлений, возвратов, перемещений, остатков).
- Построен OLAP-кубы с максимальной детализацией по товарам, аптекам, датам, производителям и другим атрибутам.
- Подготовлены расчетные показатели в OLAP-кубе fReceipts: средний чек, маржинальность, рентабельность, основные расчетные показатели.
- Сохранены все конструкции проекта (хранимые процедуры, представления и др.) для поддержки повторного использования и масштабируемости.

## Краткая инструкция по установке проекта:

1.Создание таблиц: Все необходимые таблицы уже есть в проекте на GitHub.

2.Создание хранимых процедур: Хранимые процедуры для загрузки данных и их активации уже проекте.

3.Выгрузка по команде активации: Используйте команды активации для автоматической загрузки данных из файлов.

4.Создание представлений фактов: Факты объединены в представления (Сначала представления фактов, потом zvezda).

5.Звездообразные представления: Создание звездообразных представлений для анализа.

6.OLAP-кубы: OLAP-кубы уже настроены (Открытие файла через Visual Studio, Microsoft Analyst, файл CubFIncome.sln).

*Все, что не для установки, подписано. 
